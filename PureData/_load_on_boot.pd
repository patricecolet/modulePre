#N canvas 660 184 687 683 12;
#X declare -lib zexy;
#X declare -path ggee;
#X declare -path abs;
#X declare -path list-abs;
#X declare -path purest_json;
#X declare -path else;
#X obj 9 121 loadbang;
#N canvas 24 153 1035 586 computer_infos 0;
#X obj 549 417 r comment;
#X obj 549 443 print comment;
#X symbolatom 66 133 20 0 0 0 - - - 0;
#X symbolatom 56 186 19 0 0 0 - - - 0;
#X symbolatom 56 234 30 0 0 0 - - - 0;
#X obj 13 10 inlet;
#X obj 538 53 r ID;
#N canvas 46 114 138 127 computer_ok 0;
#X obj 10 10 r computer_1;
#X msg 10 40 OK;
#X obj 10 80 print computer_1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X restore 739 281 pd computer_ok;
#X obj 618 281 s pd-computer_ok;
#X obj 650 197 s computer_number;
#X symbolatom 587 353 27 0 0 0 - - - 0;
#X obj 578 376 s module_ID;
#X obj 578 327 makefilename module_%d;
#N canvas 754 333 599 409 getIP 0;
#X obj 96 63 inlet;
#X obj 96 133 shell;
#X msg 128 190 Impossible to get ip adress \, please check network interface;
#X obj 128 215 print Error;
#X text 340 106 lance la commande;
#X obj 136 282 print IP;
#X obj 96 357 outlet;
#X obj 116 333 outlet;
#X obj 128 165 sel 1;
#X obj 96 87 getdir;
#X obj 116 309 list;
#X msg 96 108 \$1/script/GET_IP_ADRESS.sh;
#X text 19 5 La commande qui récupère l'adresse IP est différente sur macos \, on utilise donc un script pour faciliter la tache.;
#X obj 207 282 s localIP;
#X obj 96 247 t b a a a;
#X connect 0 0 9 0;
#X connect 1 0 14 0;
#X connect 1 1 8 0;
#X connect 2 0 3 0;
#X connect 8 0 2 0;
#X connect 9 0 11 0;
#X connect 10 0 7 0;
#X connect 11 0 1 0;
#X connect 14 0 6 0;
#X connect 14 1 10 0;
#X connect 14 2 5 0;
#X connect 14 3 13 0;
#X restore 13 109 pd getIP;
#N canvas 12 103 550 468 get_MAC_adress 0;
#X obj 31 66 inlet;
#X obj 31 146 shell;
#X obj 31 171 route 0;
#X msg 31 326 Impossible de récupérer l'adresse MAC;
#X obj 31 351 print Erreur;
#X text 19 5 La commande qui récupère l'adresse MAC de la machine locale sur macos nécessite des symboles qui sont filtrés par PureData \, on utilise donc un script pour faciliter la tache.;
#X text 277 120 lance le script;
#X text 124 90 Récupère le chemin du dossier où se trouve le patch;
#X obj 109 218 print ADRESSE_MAC;
#X obj 77 195 t a a;
#X obj 77 279 outlet;
#X obj 77 253 list;
#X text 118 252 transforme la sortie en symbole;
#X obj 31 91 getdir;
#X msg 31 121 \$1/script/GET_MAC_ADRESS.sh;
#X connect 0 0 13 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 9 0;
#X connect 3 0 4 0;
#X connect 9 0 11 0;
#X connect 9 1 8 0;
#X connect 11 0 10 0;
#X connect 13 0 14 0;
#X connect 14 0 1 0;
#X restore 13 160 pd get_MAC_adress;
#X text 84 106 Récupère l'adresse ipv4;
#X obj 13 185 t a a;
#N canvas 388 54 1185 717 bibi_binaire 0;
#N canvas 463 23 714 534 list-drip 0;
#X obj 63 84 t a a;
#X obj 63 241 spigot;
#X obj 102 149 bang;
#X obj 102 168 1;
#X obj 223 149 route bang;
#X obj 183 150 bang;
#X obj 183 169 0;
#X obj 102 114 list split 2;
#X obj 232 379 list split;
#X obj 299 328 list length;
#X obj 299 350 >> 1;
#X obj 63 260 t a a a a;
#X obj 63 446 list split;
#X obj 130 398 list length;
#X obj 130 423 >> 1;
#X obj 31 19 inlet;
#X obj 290 175 outlet;
#X text 73 19 Copyright 2009 by Mathieu Bouchard;
#X obj 31 53 t b a;
#X obj 465 119 outlet;
#X text 520 121 signal end of list;
#X text 381 23 made compatible with [list-drip]: fbar 2009;
#X connect 0 0 1 0;
#X connect 0 1 7 0;
#X connect 1 0 11 0;
#X connect 2 0 3 0;
#X connect 3 0 1 1;
#X connect 4 1 16 0;
#X connect 5 0 6 0;
#X connect 6 0 1 1;
#X connect 7 0 2 0;
#X connect 7 2 4 0;
#X connect 7 2 5 0;
#X connect 8 0 0 0;
#X connect 9 0 10 0;
#X connect 10 0 8 1;
#X connect 11 0 12 0;
#X connect 11 1 13 0;
#X connect 11 2 8 0;
#X connect 11 3 9 0;
#X connect 12 1 0 0;
#X connect 13 0 14 0;
#X connect 14 0 12 1;
#X connect 15 0 18 0;
#X connect 18 0 19 0;
#X connect 18 1 0 0;
#X restore 158 81 pd list-drip;
#X obj 158 58 list fromsymbol;
#X obj 529 506 list trim;
#X obj 529 479 list prepend add2;
#X msg 456 501 set;
#X msg 19 378 HO;
#X obj 259 161 + 1;
#X obj 229 161 f 0;
#X msg 247 136 0;
#X obj 158 109 sel 58;
#X obj 229 186 sel 0 1 2 3 4 5 6 7 8 9 10 11;
#X obj 23 307 f;
#X obj 197 134 t b f;
#X msg 54 378 HA;
#X msg 88 378 HE;
#X msg 123 378 HI;
#X msg 157 378 BO;
#X msg 192 378 BA;
#X msg 226 378 BE;
#X msg 261 378 BI;
#X msg 297 378 KO;
#X msg 332 378 KA;
#X msg 366 378 KE;
#X msg 401 378 KI;
#X msg 434 378 DO;
#X msg 469 378 DA;
#X msg 503 378 DE;
#X msg 538 378 DI;
#X msg 530 560 BA HO DE DA HI DO _ ha bi ba _ ha be ba, f 66;
#N canvas 719 149 624 369 list-l2s 0;
#X msg 327 196 set %s;
#X obj 235 244 t a;
#X obj 118 252 makefilename %s;
#X obj 96 62 t b a b;
#X obj 96 283 symbol;
#X msg 142 22 a b c d 1 2;
#X obj 118 158 route symbol float;
#X obj 118 186 symbol;
#X obj 96 21 inlet;
#X obj 96 313 outlet;
#X obj 395 192 makefilename 1%s%%s;
#X obj 395 165 symbol \$1;
#X msg 405 123 bang;
#X obj 395 89 loadbang;
#X msg 395 228 set set \, adddollsym \$1;
#X msg 235 265 set \$1%s;
#X obj 447 124 inlet;
#X obj 178 190 makefilename %g;
#N canvas 463 23 714 534 list-drip 0;
#X obj 63 84 t a a;
#X obj 63 241 spigot;
#X obj 102 149 bang;
#X obj 102 168 1;
#X obj 223 149 route bang;
#X obj 183 150 bang;
#X obj 183 169 0;
#X obj 102 114 list split 2;
#X obj 232 379 list split;
#X obj 299 328 list length;
#X obj 299 350 >> 1;
#X obj 63 260 t a a a a;
#X obj 63 446 list split;
#X obj 130 398 list length;
#X obj 130 423 >> 1;
#X obj 31 19 inlet;
#X obj 290 175 outlet;
#X text 73 19 Copyright 2009 by Mathieu Bouchard;
#X obj 31 53 t b a;
#X obj 465 119 outlet;
#X text 520 121 signal end of list;
#X text 381 23 made compatible with [list-drip]: fbar 2009;
#X connect 0 0 1 0;
#X connect 0 1 7 0;
#X connect 1 0 11 0;
#X connect 2 0 3 0;
#X connect 3 0 1 1;
#X connect 4 1 16 0;
#X connect 5 0 6 0;
#X connect 6 0 1 1;
#X connect 7 0 2 0;
#X connect 7 2 4 0;
#X connect 7 2 5 0;
#X connect 8 0 0 0;
#X connect 9 0 10 0;
#X connect 10 0 8 1;
#X connect 11 0 12 0;
#X connect 11 1 13 0;
#X connect 11 2 8 0;
#X connect 11 3 9 0;
#X connect 12 1 0 0;
#X connect 13 0 14 0;
#X connect 14 0 12 1;
#X connect 15 0 18 0;
#X connect 18 0 19 0;
#X connect 18 1 0 0;
#X restore 116 119 pd list-drip;
#X connect 0 0 2 0;
#X connect 1 0 15 0;
#X connect 2 0 1 0;
#X connect 2 0 4 1;
#X connect 3 0 4 0;
#X connect 3 1 18 0;
#X connect 3 2 0 0;
#X connect 4 0 9 0;
#X connect 5 0 3 0;
#X connect 6 0 7 0;
#X connect 6 1 17 0;
#X connect 7 0 2 0;
#X connect 8 0 3 0;
#X connect 10 0 14 0;
#X connect 11 0 10 0;
#X connect 12 0 11 0;
#X connect 13 0 11 0;
#X connect 14 0 15 0;
#X connect 15 0 2 0;
#X connect 16 0 11 0;
#X connect 17 0 2 0;
#X connect 18 0 6 0;
#X restore 530 587 pd list-l2s;
#X obj 530 532 t b a;
#X obj 330 231 t a b;
#X obj 380 231 t a b;
#X msg 363 279 _;
#X obj 584 300 f;
#X msg 582 379 ho;
#X msg 617 379 ha;
#X msg 651 379 he;
#X msg 686 379 hi;
#X msg 720 379 bo;
#X msg 755 379 ba;
#X msg 789 379 be;
#X msg 824 379 bi;
#X msg 860 379 ko;
#X msg 895 379 ka;
#X msg 929 379 ke;
#X msg 964 379 ki;
#X msg 997 379 do;
#X msg 1032 379 da;
#X msg 1066 379 de;
#X msg 1101 379 di;
#X obj 229 230 t a b;
#X obj 423 230 t b a;
#X obj 6 8 inlet;
#X obj 24 338 sel 48 49 50 51 52 53 54 55 56 57 65 66 67 68 69 70 97 98 99 100 101 102, f 74;
#X obj 584 336 sel 48 49 50 51 52 53 54 55 56 57 65 66 67 68 69 70 97 98 99 100 101 102, f 72;
#X obj 247 107 loadbang;
#X obj 6 632 list;
#X obj 6 661 outlet;
#X obj 6 33 t b a;
#X connect 0 0 9 0;
#X connect 1 0 0 0;
#X connect 2 0 30 0;
#X connect 3 0 2 0;
#X connect 4 0 28 0;
#X connect 5 0 3 0;
#X connect 6 0 7 1;
#X connect 7 0 6 0;
#X connect 7 0 10 0;
#X connect 8 0 7 1;
#X connect 9 1 12 0;
#X connect 10 0 51 0;
#X connect 10 1 11 0;
#X connect 10 2 11 0;
#X connect 10 3 11 0;
#X connect 10 4 11 0;
#X connect 10 5 11 0;
#X connect 10 6 31 0;
#X connect 10 7 34 0;
#X connect 10 8 34 0;
#X connect 10 9 32 0;
#X connect 10 10 34 0;
#X connect 10 11 52 0;
#X connect 11 0 54 0;
#X connect 12 0 7 0;
#X connect 12 1 11 1;
#X connect 12 1 34 1;
#X connect 13 0 3 0;
#X connect 14 0 3 0;
#X connect 15 0 3 0;
#X connect 16 0 3 0;
#X connect 17 0 3 0;
#X connect 18 0 3 0;
#X connect 19 0 3 0;
#X connect 20 0 3 0;
#X connect 21 0 3 0;
#X connect 22 0 3 0;
#X connect 23 0 3 0;
#X connect 24 0 3 0;
#X connect 25 0 3 0;
#X connect 26 0 3 0;
#X connect 27 0 3 0;
#X connect 28 0 29 0;
#X connect 29 0 57 1;
#X connect 30 0 28 0;
#X connect 30 1 28 0;
#X connect 31 0 34 0;
#X connect 31 1 33 0;
#X connect 32 0 34 0;
#X connect 32 1 33 0;
#X connect 33 0 3 0;
#X connect 34 0 55 0;
#X connect 35 0 3 0;
#X connect 36 0 3 0;
#X connect 37 0 3 0;
#X connect 38 0 3 0;
#X connect 39 0 3 0;
#X connect 40 0 3 0;
#X connect 41 0 3 0;
#X connect 42 0 3 0;
#X connect 43 0 3 0;
#X connect 44 0 3 0;
#X connect 45 0 3 0;
#X connect 46 0 3 0;
#X connect 47 0 3 0;
#X connect 48 0 3 0;
#X connect 49 0 3 0;
#X connect 50 0 3 0;
#X connect 51 0 11 0;
#X connect 51 1 4 0;
#X connect 52 0 8 0;
#X connect 52 1 34 0;
#X connect 53 0 59 0;
#X connect 54 0 5 0;
#X connect 54 1 13 0;
#X connect 54 2 14 0;
#X connect 54 3 15 0;
#X connect 54 4 16 0;
#X connect 54 5 17 0;
#X connect 54 6 18 0;
#X connect 54 7 19 0;
#X connect 54 8 20 0;
#X connect 54 9 21 0;
#X connect 54 10 22 0;
#X connect 54 11 23 0;
#X connect 54 12 24 0;
#X connect 54 13 25 0;
#X connect 54 14 26 0;
#X connect 54 15 27 0;
#X connect 54 16 22 0;
#X connect 54 17 23 0;
#X connect 54 18 24 0;
#X connect 54 19 25 0;
#X connect 54 20 26 0;
#X connect 54 21 27 0;
#X connect 55 0 35 0;
#X connect 55 1 36 0;
#X connect 55 2 37 0;
#X connect 55 3 38 0;
#X connect 55 4 39 0;
#X connect 55 5 40 0;
#X connect 55 6 41 0;
#X connect 55 7 42 0;
#X connect 55 8 43 0;
#X connect 55 9 44 0;
#X connect 55 10 45 0;
#X connect 55 11 46 0;
#X connect 55 12 47 0;
#X connect 55 13 48 0;
#X connect 55 14 49 0;
#X connect 55 15 50 0;
#X connect 55 16 45 0;
#X connect 55 17 46 0;
#X connect 55 18 47 0;
#X connect 55 19 48 0;
#X connect 55 20 49 0;
#X connect 55 21 50 0;
#X connect 56 0 8 0;
#X connect 57 0 58 0;
#X connect 59 0 57 0;
#X connect 59 1 1 0;
#X restore 56 210 pd bibi_binaire;
#X text 141 157 Récupère l'adresse mac;
#X text 173 213 Transforme l'adresse mac en bibi_binaire;
#N canvas 669 194 622 351 prepareMessageContent 0;
#X obj 21 33 inlet;
#X obj 144 132 t a b;
#X obj 21 315 outlet;
#X msg 176 255 set \, addsemi;
#X obj 37 97 list prepend comment, f 12;
#X obj 37 247 list trim;
#X text 77 20 Place le symbole d'envoi des informations sur la machine locale \, et bang le message d'envoi.;
#X obj 37 168 list prepend add, f 12;
#X text 185 179 ajoute les envois à la boite de message;
#X obj 21 58 route bang comment ID;
#X obj 144 96 list prepend ID, f 12;
#X text 186 218 efface la boite de message et ajoute un point virgule pour indiquer que c'est un messsage FUDI;
#X connect 0 0 9 0;
#X connect 1 0 7 0;
#X connect 1 1 3 0;
#X connect 3 0 2 0;
#X connect 4 0 7 0;
#X connect 5 0 2 0;
#X connect 7 0 5 0;
#X connect 9 0 2 0;
#X connect 9 1 4 0;
#X connect 9 2 10 0;
#X connect 10 0 1 0;
#X restore 135 369 pd prepareMessageContent;
#X obj 13 539 outlet;
#N canvas 0 54 450 300 prepareComputerOK 0;
#X obj 11 70 inlet;
#X obj 11 190 outlet;
#X symbolatom 11 95 27 0 0 0 - - - 0;
#X msg 11 120 r \$1;
#X msg 11 145 vis 0 \, clear \, obj 10 10 r \$1 \, msg 10 40 OK \, obj 10 80 print \$1 \, editmode 1 \, connect 0 0 1 0 \, connect 1 0 2 0 \, editmode 0;
#X text 13 7 Messages internes pour construire un recepteur qui va indiquer dans la console si la machine est prête \, avec le message OK précédé du numéro de machine.;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X restore 618 256 pd prepareComputerOK;
#X obj 538 78 list split 4;
#X obj 578 102 list split 1;
#X symbolatom 618 234 27 0 0 0 - - - 0;
#X obj 618 153 t a a;
#X text 670 155 Envoie le numéro de la machine;
#X text 746 326 Envoie le numéro de module pré;
#X text 629 415 imprime les commentaires dans la console;
#N canvas 658 150 600 530 getLocalMachine 0;
#X obj 25 62 inlet;
#X obj 25 134 route -1;
#X msg 25 465 La machine n'est pas référencée dans le fichier de configuration;
#X obj 25 505 print Erreur;
#X obj 78 438 outlet;
#X obj 366 301 list prepend ID;
#X obj 134 438 outlet;
#X obj 134 413 list trim;
#X obj 25 86 list prepend macAddress;
#N canvas 208 233 882 532 getComputerInfo 0;
#X obj 16 19 inlet;
#X obj 187 334 list prepend;
#X obj 134 208 route -1;
#X obj 76 243 t l;
#X obj 134 158 list prepend;
#X obj 16 365 list;
#X obj 16 502 outlet;
#X obj 16 43 t b b a b;
#X msg 135 78 macAddress \, bibi_binaire \, machine \, model \, ipAddress \, machineId;
#X obj 134 184 text search machineConfig 0 1;
#X obj 187 256 text get machineConfig 2;
#X obj 16 389 list split 5;
#X msg 90 446 symbol computer_\$1;
#X obj 16 469 list append;
#X text 225 448 TODO: remove computer_ from patches;
#X obj 110 421 s machineId;
#X connect 0 0 7 0;
#X connect 1 0 3 0;
#X connect 1 0 5 1;
#X connect 2 1 10 0;
#X connect 3 0 1 1;
#X connect 4 0 9 0;
#X connect 5 0 11 0;
#X connect 7 0 5 0;
#X connect 7 1 8 0;
#X connect 7 2 4 1;
#X connect 7 3 3 0;
#X connect 8 0 4 0;
#X connect 9 0 2 0;
#X connect 10 0 1 0;
#X connect 11 0 13 0;
#X connect 11 1 12 0;
#X connect 11 1 15 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X restore 366 272 pd getComputerInfo;
#N canvas 208 233 500 301 getComment 0;
#X obj 14 19 inlet;
#X obj 14 101 route -1;
#X obj 66 250 outlet;
#X obj 14 51 list append comment;
#X obj 14 77 text search machineConfig 0 1;
#X obj 67 129 text get machineConfig 2;
#X text 73 151 La valeur des données JSON est représentée sous la forme d'un symbole \, pour faciliter la lecture \, elle est transformée en liste;
#X obj 67 204 abs/rmBackslash;
#X connect 0 0 3 0;
#X connect 1 1 5 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X connect 5 0 7 0;
#X connect 7 0 2 0;
#X restore 195 269 pd getComment;
#X obj 195 294 list prepend comment;
#X text 24 25 Cherche ligne avec la bonne adresse MAC dans le buffer texte;
#X obj 78 158 text get machineConfig 0;
#X obj 25 110 text search machineConfig 1 2;
#X obj 324 186 text define computerInfo;
#N canvas 179 204 295 441 setComputerInfo 0;
#X obj 64 11 inlet;
#X msg 108 136 ipAddress \, macAddress \, bibi_binaire \, machine \, model \, machineId \, comment \, soundcard, f 23;
#X obj 110 111 text delete computerInfo;
#X obj 47 374 text set computerInfo;
#X obj 4 247 text search machineConfig 0 1;
#X obj 5 270 text get machineConfig;
#X obj 47 324 t a b;
#X msg 80 348 1e+15;
#X msg 110 85 -1;
#X obj 4 222 list prepend;
#X obj 64 35 t b a b;
#X obj 6 296 list split 1;
#X connect 0 0 10 0;
#X connect 1 0 9 0;
#X connect 4 0 5 0;
#X connect 5 0 11 0;
#X connect 6 0 3 0;
#X connect 6 1 7 0;
#X connect 7 0 3 1;
#X connect 8 0 2 0;
#X connect 9 0 4 0;
#X connect 10 0 1 0;
#X connect 10 1 9 1;
#X connect 10 2 8 0;
#X connect 11 1 6 0;
#X restore 187 187 pd setComputerInfo;
#X obj 78 182 t b b a a a;
#X connect 0 0 8 0;
#X connect 1 0 4 0;
#X connect 1 0 2 0;
#X connect 1 1 13 0;
#X connect 2 0 3 0;
#X connect 5 0 7 0;
#X connect 7 0 6 0;
#X connect 8 0 14 0;
#X connect 9 0 5 0;
#X connect 10 0 11 0;
#X connect 11 0 7 0;
#X connect 13 0 17 0;
#X connect 14 0 1 0;
#X connect 17 0 4 0;
#X connect 17 1 7 0;
#X connect 17 2 10 0;
#X connect 17 3 9 0;
#X connect 17 4 16 0;
#X restore 13 345 pd getLocalMachine;
#X obj 56 256 print bibi_binaire;
#X obj 650 175 list split 1;
#X text 536 11 Les informations liées à la machine locale sont récupérées pour obtenir le nom de la machine et le numéro de module;
#X text 67 529 Envoie un bang au gestionnaire de composition \, et charge le premier morceau.;
#X text 117 402 Rempli la boite de message et déclenche les send au symbole en entête de chaque ligne après un point virgule.;
#X text 846 274 indique dans la console que la machine est prête à jouer la composition, f 24;
#X text 137 7 Charge le fichier de configuration du projet dans un buffer texte, f 37;
#X obj 220 54 r configFile;
#N canvas 673 73 666 429 getconfig 0;
#X obj 16 87 inlet bang;
#X obj 16 110 t b b;
#X msg 48 132 -1;
#X text 57 176 Ouvre le fichier de configuration pour le stocker dans un buffer texte;
#X text 87 115 Le buffer texte où est stocké la configuration est effacé avant de commencer;
#X obj 16 386 outlet;
#X obj 104 287 t a b;
#X msg 147 310 1e+15;
#N canvas 213 341 639 490 decodeJSON 0;
#X obj 57 9 inlet;
#X obj 153 161 json-decode;
#X obj 94 78 list trim;
#X obj 111 389 list prepend;
#X obj 190 184 list split 1;
#X obj 190 303 list append;
#X obj 111 413 outlet;
#X obj 57 33 json-encode;
#X obj 57 56 json-decode;
#X obj 57 412 outlet;
#X obj 78 211 f;
#X obj 94 123 t a b;
#X obj 109 210 + 1;
#X msg 100 164 0;
#X obj 327 159 json-decode;
#X obj 94 101 route computerInfo;
#X obj 364 210 route serverMachineId;
#X obj 327 137 route pdsettings;
#X obj 364 186 list trim;
#X obj 340 420 s serverMachineId;
#X obj 340 394 ==;
#X obj 377 238 r computer_ID;
#X obj 392 311 s2l;
#X msg 409 288 symbol _;
#X obj 377 263 t a b;
#X obj 392 335 list split 1;
#X connect 0 0 7 0;
#X connect 1 0 10 0;
#X connect 1 1 4 0;
#X connect 2 0 15 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 4 1 5 1;
#X connect 5 0 3 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 8 1 2 0;
#X connect 10 0 12 0;
#X connect 10 0 3 1;
#X connect 11 0 1 0;
#X connect 11 1 13 0;
#X connect 12 0 10 1;
#X connect 13 0 10 0;
#X connect 14 1 18 0;
#X connect 15 0 11 0;
#X connect 15 1 17 0;
#X connect 16 0 20 1;
#X connect 17 0 14 0;
#X connect 18 0 16 0;
#X connect 20 0 19 0;
#X connect 22 0 25 0;
#X connect 23 0 22 1;
#X connect 24 0 22 0;
#X connect 24 1 23 0;
#X connect 25 1 20 0;
#X restore 16 260 pd decodeJSON;
#X msg 16 210 read ../config.json \, bang;
#X text 12 2 config.json est le fichier de configuration où est inscrit l'adresse IPV4 \, l'adresse MAC \, le modèle de machine \, son numéro dans l'installation \, et les commentaires associés. Le format JSON permet d'uniformiser les données avec node-js et OpenStageControl., f 89;
#X text 126 260 converti les données JSON en listes PureData;
#X obj 48 153 text delete machineConfig;
#X obj 104 333 text set machineConfig;
#X connect 0 0 1 0;
#X connect 1 0 9 0;
#X connect 1 1 2 0;
#X connect 2 0 12 0;
#X connect 6 0 13 0;
#X connect 6 1 7 0;
#X connect 7 0 13 1;
#X connect 8 0 5 0;
#X connect 8 1 6 0;
#X connect 9 0 8 0;
#X restore 13 52 pd getconfig;
#X obj 220 78 text define machineConfig;
#X text 54 283 Cherche dans le fichier de configuration l'adresse MAC de la machine locale et récupère les informations \, continue même si l'adresse MAC n'a pas été trouvée., f 51;
#X msg 37 440 \; ID 50:ed:3c:17:51:65 HIBEKOHIKEDO_hodike_bokoho mac silicon 127.0.0.1 computer_1 \; comment  patko \;, f 66;
#N canvas 275 54 462 289 computer_ID 0;
#X obj 33 62 inlet;
#X obj 73 192 outlet;
#X obj 33 85 t a b;
#X msg 65 110 symbol .;
#X obj 33 143 s2l;
#X text 33 16 récupère le 4eme octet de l'adresse ipv4 pour en faire le numéro de machine;
#X obj 32 168 list split 3;
#X connect 0 0 2 0;
#X connect 2 0 4 0;
#X connect 2 1 3 0;
#X connect 3 0 4 1;
#X connect 4 0 6 0;
#X connect 6 1 1 0;
#X restore 578 302 pd computer_ID;
#X connect 0 0 1 0;
#X connect 3 0 17 0;
#X connect 4 0 31 0;
#X connect 5 0 39 0;
#X connect 6 0 23 0;
#X connect 12 0 10 0;
#X connect 12 0 11 0;
#X connect 13 0 14 0;
#X connect 13 1 2 0;
#X connect 14 0 16 0;
#X connect 16 0 30 0;
#X connect 16 1 3 0;
#X connect 17 0 4 0;
#X connect 20 0 42 0;
#X connect 22 0 8 0;
#X connect 23 1 24 0;
#X connect 24 0 43 0;
#X connect 24 1 26 0;
#X connect 25 0 22 0;
#X connect 26 0 25 0;
#X connect 26 1 32 0;
#X connect 30 0 21 0;
#X connect 30 1 20 0;
#X connect 32 0 9 0;
#X connect 38 0 40 0;
#X connect 39 0 13 0;
#X connect 43 0 12 0;
#X restore 9 214 pd computer_infos;
#N canvas 29 443 700 429 audio_out 0;
#X obj 194 373 dac~;
#X obj 211 45 r volume;
#X text 231 373 audio out;
#X obj 193 275 *~;
#X obj 193 140 *~;
#X obj 211 113 line~;
#X msg 211 88 \$1 50;
#X obj 376 45 r volume;
#X obj 379 224 line~;
#X obj 359 268 *~;
#X obj 358 135 *~;
#X obj 376 113 line~;
#X msg 376 91 \$1 50;
#X obj 4 7 inlet;
#X obj 34 184 list prepend \$0;
#X msg 34 209 \; \$1volume-r set \$2 \;;
#X obj 34 156 r volume;
#X obj 36 276 list prepend \$0;
#X obj 211 67 dbtorms;
#X obj 376 69 dbtorms;
#X obj 4 32 t b b;
#X obj 4 340 outlet;
#X obj 453 46 r mute;
#X obj 36 252 r mute;
#X msg 36 298 \; \$1mute-r set \$2 \;;
#X obj 194 20 inlet~ L_out;
#X obj 359 23 inlet~ R_out;
#X obj 453 68 == 0;
#X obj 453 92 pack f 50;
#X obj 508 147 route enable refresh;
#X obj 483 391 s sendOSC;
#X obj 451 273 i;
#X obj 535 278 i;
#X obj 483 369 list trim;
#X obj 570 281 r computer_number;
#X obj 535 319 list prepend;
#X obj 441 321 list prepend;
#X obj 440 346 list prepend vuL;
#X obj 564 344 list prepend vuR;
#X obj 508 123 r vumeter;
#X msg 36 57 \; volume 100 \; mute 0 \; vumeter enable 0 \;;
#X obj 508 178 metro 100;
#X obj 450 220 env~;
#X obj 551 222 env~;
#X connect 1 0 18 0;
#X connect 3 0 0 0;
#X connect 4 0 3 0;
#X connect 4 0 42 0;
#X connect 5 0 4 1;
#X connect 6 0 5 0;
#X connect 7 0 19 0;
#X connect 8 0 9 1;
#X connect 8 0 3 1;
#X connect 9 0 0 1;
#X connect 10 0 9 0;
#X connect 10 0 43 0;
#X connect 11 0 10 1;
#X connect 12 0 11 0;
#X connect 13 0 20 0;
#X connect 14 0 15 0;
#X connect 16 0 14 0;
#X connect 17 0 24 0;
#X connect 18 0 6 0;
#X connect 19 0 12 0;
#X connect 20 0 21 0;
#X connect 20 1 40 0;
#X connect 22 0 27 0;
#X connect 23 0 17 0;
#X connect 25 0 4 0;
#X connect 26 0 10 0;
#X connect 27 0 28 0;
#X connect 28 0 8 0;
#X connect 29 0 41 0;
#X connect 29 1 41 1;
#X connect 31 0 36 0;
#X connect 32 0 35 0;
#X connect 33 0 30 0;
#X connect 34 0 35 1;
#X connect 34 0 36 1;
#X connect 35 0 38 0;
#X connect 36 0 37 0;
#X connect 37 0 33 0;
#X connect 38 0 33 0;
#X connect 39 0 29 0;
#X connect 41 0 31 0;
#X connect 41 0 32 0;
#X connect 42 0 31 1;
#X connect 43 0 32 1;
#X restore 8 360 pd audio_out;
#X obj 289 395 s volume;
#X obj 289 252 vsl 15 128 0 127 0 0 empty \$0volume-r empty 0 -9 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 319 325 tgl 15 0 empty \$0mute-r empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 433 280 1;
#X msg 402 302 2;
#X msg 433 302 3;
#X msg 402 325 4;
#X msg 402 280 0;
#X text 476 259 test;
#X msg 433 325 5;
#N canvas 16 217 888 297 MIDI 0;
#X obj 456 44 r pd;
#X obj 456 128 list prepend set;
#X obj 456 154 list trim;
#X obj 456 74 route midi-dialog;
#X obj 52 220 send pd;
#X text 449 208 this message can be saved as part of your patch. click it or [loadbang] it to configure the MIDI settings. Make sure it is attached to a [send pd] so that Pd gets the message.;
#X obj 456 102 list prepend midi-dialog;
#X text 496 44 Open the MIDI Settings and click OK to get the data;
#X msg 456 186 midi-dialog 4 0 0 0 0 0 0 0 0 4 0 0 0 0 0 0 0 0 5 5;
#X obj 11 7 inlet;
#X obj 12 259 outlet;
#N canvas 174 68 674 475 getMidiDevice 0;
#X msg 88 108 listdevices;
#X obj 88 380 outlet;
#X obj 88 257 route symbol;
#X obj 88 156 route devicelist;
#X obj 88 180 route in out;
#X obj 186 257 route symbol;
#X obj 88 7 r midiDevices;
#X obj 88 35 t b a;
#X obj 88 322 list append 0;
#X obj 296 91 route in out;
#X obj 295 67 list trim;
#X obj 296 151 symbol;
#X obj 454 151 symbol;
#X obj 88 131 list prepend midisettings;
#X connect 0 0 13 0;
#X connect 2 0 8 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 4 1 5 0;
#X connect 5 0 8 1;
#X connect 7 0 0 0;
#X connect 7 1 10 0;
#X connect 8 0 1 0;
#X connect 9 0 11 0;
#X connect 9 1 12 0;
#X connect 10 0 9 0;
#X connect 13 0 3 0;
#X restore 52 38 pd getMidiDevice;
#X obj 207 7 r computer_type;
#X obj 207 56 route rpi mac;
#X obj 207 31 list trim;
#X msg 52 166 midi-dialog \$1 0 0 0 0 0 0 0 0 \$2 0 0 0 0 0 0 0 0 \$3 \$3;
#X msg 207 81 3;
#X msg 251 81 4;
#X obj 52 138 list append 3;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 8 0;
#X connect 3 0 6 0;
#X connect 6 0 1 0;
#X connect 9 0 10 0;
#X connect 11 0 18 0;
#X connect 12 0 14 0;
#X connect 13 0 16 0;
#X connect 13 1 17 0;
#X connect 14 0 13 0;
#X connect 15 0 4 0;
#X connect 16 0 18 1;
#X connect 17 0 18 1;
#X connect 18 0 15 0;
#X restore 8 411 pd MIDI;
#N canvas 136 323 826 285 computer_received_infos 0;
#X obj 72 11 r ID;
#X symbolatom 301 181 27 0 0 0 - - - 0;
#X symbolatom 301 121 27 0 0 0 - - - 0;
#X symbolatom 301 101 27 0 0 0 - - - 0;
#X symbolatom 301 141 27 0 0 0 - - - 0;
#X symbolatom 301 161 27 0 0 0 - - - 0;
#X symbolatom 301 201 27 0 0 0 - - - 0;
#X symbolatom 301 221 27 0 0 0 - - - 0;
#X obj 51 177 r composition_name;
#X obj 72 36 unpack s s s s s s;
#X connect 0 0 9 0;
#X connect 8 0 7 0;
#X connect 9 0 2 0;
#X connect 9 1 3 0;
#X connect 9 2 4 0;
#X connect 9 3 5 0;
#X connect 9 4 1 0;
#X connect 9 5 6 0;
#X coords 0 -1 1 1 192 140 2 300 100;
#X restore 432 65 pd computer_received_infos;
#N canvas 586 177 673 528 OSC 0;
#X obj 76 29 netreceive -u -b 4000;
#X obj 76 54 oscparse;
#X obj 76 79 route list;
#X obj 110 434 netsend -u -b;
#X obj 418 388 oscformat;
#X msg 230 357 disconnect;
#X obj 185 57 spigot;
#X obj 236 31 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 12 8 inlet;
#X obj 491 251 r sendOSC;
#X obj 495 340 list prepend set;
#X obj 495 365 list trim;
#X obj 13 224 t b b;
#X obj 13 494 outlet;
#X obj 45 270 demux 0 1;
#X obj 198 317 t b b;
#X obj 154 476 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 491 275 list split 1;
#X obj 418 336 list;
#X obj 418 305 t b a;
#N canvas 47 89 526 300 duplex 0;
#X obj 18 23 r mute;
#X obj 100 24 r volume;
#X obj 189 24 r cue;
#X obj 266 28 r composition_num;
#X msg 18 107 mute \$1;
#X msg 100 104 volume \$1;
#X msg 189 104 cue \$1;
#X msg 266 104 composition \$1;
#X obj 443 79 r cpumon;
#X obj 400 104 spigot;
#X obj 400 54 r cputime;
#X msg 400 135 cpumon \$1;
#X obj 102 248 pack s f;
#X text 176 248 not ready yet;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 6 0;
#X connect 3 0 7 0;
#X connect 4 0 12 0;
#X connect 5 0 12 0;
#X connect 6 0 12 0;
#X connect 7 0 12 0;
#X connect 8 0 9 1;
#X connect 9 0 11 0;
#X connect 10 0 9 0;
#X connect 11 0 12 0;
#X restore 573 249 pd duplex;
#X text 101 2 commandes reçue;
#X text 120 267 reconnection;
#X text 241 214 commandes envoyées aux compositions, f 19;
#X text 418 231 commandes envoyées à l'interface;
#X obj 76 217 s OSC_for_composition;
#N canvas 796 365 450 386 ping 0;
#X obj 95 223 list;
#X obj 95 274 list prepend ping;
#X obj 95 299 s sendOSC;
#X obj 9 125 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#N canvas 92 117 450 300 pingSimulation 0;
#X obj 107 26 inlet;
#X obj 107 71 t b b;
#X obj 107 48 spigot;
#X msg 152 118 0;
#X obj 107 118 until;
#X msg 107 95 31;
#X obj 107 156 f;
#X obj 107 182 + 1;
#X obj 160 24 inlet;
#X obj 107 217 + 33;
#X obj 107 272 outlet;
#X obj 224 67 r cputime;
#X obj 107 243 list append;
#X connect 0 0 2 0;
#X connect 1 0 5 0;
#X connect 1 1 3 0;
#X connect 2 0 1 0;
#X connect 3 0 6 1;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 7 0 6 1;
#X connect 7 0 9 0;
#X connect 8 0 2 1;
#X connect 9 0 12 0;
#X connect 11 0 12 1;
#X connect 12 0 10 0;
#X restore 304 240 pd pingSimulation;
#X obj 406 157 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 10 5 inlet;
#X obj 10 34 route ping;
#X obj 77 330 outlet;
#X obj 224 67 r cputime;
#X obj 230 111 list prepend;
#X obj 304 63 r machineId;
#X obj 95 95 t b b b;
#X obj 141 223 s serverPing;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 4 0 1 0;
#X connect 5 0 4 1;
#X connect 6 0 7 0;
#X connect 7 0 12 0;
#X connect 7 1 8 0;
#X connect 9 0 10 0;
#X connect 10 0 0 1;
#X connect 11 0 10 1;
#X connect 12 0 0 0;
#X connect 12 0 3 0;
#X connect 12 1 4 0;
#X connect 12 2 13 0;
#X restore 76 183 pd ping;
#N canvas 63 88 450 300 globals 0;
#X obj 40 12 inlet;
#X obj 96 135 s volume;
#X obj 153 74 s cue;
#X obj 39 161 s mute;
#X obj 210 180 s composition_num;
#X obj 39 45 route mute volume cue composition;
#X obj 267 108 outlet;
#X connect 0 0 5 0;
#X connect 5 0 3 0;
#X connect 5 1 1 0;
#X connect 5 2 2 0;
#X connect 5 3 4 0;
#X connect 5 4 6 0;
#X restore 76 103 pd globals;
#N canvas 63 88 450 300 utils 0;
#X obj 40 12 inlet;
#X obj 305 116 outlet;
#X obj 94 163 s noise;
#X obj 45 185 s filter;
#X obj 142 139 s fx;
#X obj 164 113 s cpumon;
#X obj 39 45 route filter noise fx cpumon vumeter;
#X obj 206 86 s vumeter;
#X connect 0 0 6 0;
#X connect 6 0 3 0;
#X connect 6 1 2 0;
#X connect 6 2 4 0;
#X connect 6 3 5 0;
#X connect 6 4 7 0;
#X connect 6 5 1 0;
#X restore 76 131 pd utils;
#N canvas 63 88 450 300 commands 0;
#X obj 40 12 inlet;
#X obj 197 106 outlet;
#X obj 39 265 s reload;
#X obj 39 233 b;
#X obj 91 196 b;
#X obj 91 231 s reboot;
#X obj 144 192 s dsp;
#X obj 39 45 route reload reboot dsp;
#X connect 0 0 7 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 7 0 3 0;
#X connect 7 1 4 0;
#X connect 7 2 6 0;
#X connect 7 3 1 0;
#X restore 76 155 pd commands;
#N canvas 92 117 524 300 getServer 0;
#X obj 109 191 list append 5000;
#X obj 37 250 list trim;
#X obj 37 274 outlet;
#X obj 109 215 list prepend connect;
#X obj 110 90 list trim;
#X obj 110 114 route localhost;
#X msg 188 140 192.168.1.2;
#X obj 109 169 symbol;
#X obj 38 225 list;
#X obj 38 23 inlet;
#X obj 66 148 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 111 139 127.0.0.1;
#X text 329 5 ugly hardcoding;
#X obj 107 13 r ID;
#X obj 147 61 list split 1;
#X obj 107 37 list split 4;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 3 0 8 1;
#X connect 4 0 5 0;
#X connect 5 0 11 0;
#X connect 5 1 6 0;
#X connect 6 0 7 0;
#X connect 7 0 0 0;
#X connect 8 0 1 0;
#X connect 9 0 8 0;
#X connect 10 0 8 0;
#X connect 11 0 7 0;
#X connect 13 0 15 0;
#X connect 14 0 4 0;
#X connect 15 1 14 0;
#X restore 131 357 pd getServer;
#X obj 185 79 print OSCreceive;
#X obj 473 457 spigot;
#X obj 524 431 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 502 403 r sendOSC;
#X obj 473 479 print OSCsend;
#X msg 356 98 \; sendOSC list sampleListingFolder dedale;
#X msg 293 34 \; sendOSC list samplesList GoAhead.wav;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 6 0;
#X connect 2 0 27 0;
#X connect 3 0 16 0;
#X connect 3 0 14 1;
#X connect 4 0 3 0;
#X connect 5 0 3 0;
#X connect 6 0 31 0;
#X connect 7 0 6 1;
#X connect 8 0 12 0;
#X connect 9 0 17 0;
#X connect 10 0 11 0;
#X connect 11 0 4 0;
#X connect 12 0 13 0;
#X connect 12 1 14 0;
#X connect 14 0 30 0;
#X connect 14 1 15 0;
#X connect 15 0 30 0;
#X connect 15 1 5 0;
#X connect 17 0 19 0;
#X connect 17 1 18 1;
#X connect 18 0 4 0;
#X connect 19 0 18 0;
#X connect 19 1 10 0;
#X connect 26 0 25 0;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 29 0 26 0;
#X connect 30 0 3 0;
#X connect 32 0 35 0;
#X connect 33 0 32 1;
#X connect 34 0 32 0;
#X restore 8 492 pd OSC;
#X obj 460 569 declare -lib zexy;
#X obj 460 594 declare -path ggee;
#X text 42 178 Récupère les informations de la machine locale, f 25;
#X text 436 10 Les informations liées à la machine locale sont indiquées ici, f 25;
#N canvas 567 115 646 700 HELP 0;
#X obj 61 48 s volume;
#X text 20 10 Réglages Globaux;
#X obj 57 120 throw~ L_out;
#X text 275 373 nom de la piste en cours de jeu <symbol>;
#X text 140 83 mute la sortie (1/0);
#X text 56 306 pour recevoir dans:;
#X text 246 412 Modèle de machine sur laquelle la composition est en train de jouer <symbol>;
#X text 133 42 volume de sortie en Décibels \, 100 = 0db \, 94 = -6db \, etc...;
#X obj 62 85 s mute;
#X obj 60 279 s callback;
#X obj 49 341 r computer_number;
#X obj 49 374 r composition_name;
#X obj 49 415 r computer_type;
#X obj 49 454 r computer_ID;
#X text 34 253 parametres de la machine \, envoyer un bang dans;
#X text 163 117 pour envoyer un signal Audio en sortie gauche;
#X obj 55 149 throw~ L_out;
#X text 161 146 pour envoyer un signal Audio en sortie droite;
#X obj 55 578 s OSCsend;
#X text 172 574 émission OSC;
#X text 226 527 réception OSC;
#X obj 55 181 s cue;
#X text 162 178 Pour gérer les cues dans une composition;
#X obj 101 181 r cue;
#X obj 53 217 s composition_num;
#X text 188 218 Pour charger une composition;
#X obj 56 535 r OSC_for_composition;
#X text 126 477 <symbol:MAC adress> <symbol:bibi_binaire> <symbol:Type de Machine> <symbol:Modèle de machine> <symbol:Adresse IP> <float:Numéro de machine>;
#X text 232 453 une liste représentant:;
#X text 260 341 numero de machine <symbol>;
#X obj 53 623 r serverPing;
#X obj 53 647 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X text 161 623 ping envoyé par le serveur OSC;
#X connect 30 0 31 0;
#X restore 197 16 pd HELP;
#N canvas 274 39 981 421 composition_manager 0;
#X obj 10 87 inlet;
#X obj 570 151 list split 1;
#X obj 524 364 outlet;
#X msg 10 259 0;
#X text 60 292 Une fois la liste chargée \, le premier morceau est lancé., f 51;
#N canvas 0 144 342 261 initCompoList 0;
#X obj 36 14 inlet;
#X obj 36 176 outlet;
#X msg 82 64 -1;
#X obj 36 39 t b b b;
#X msg 59 115 vis 1 \, clear;
#X obj 82 90 text delete composition_list;
#X obj 59 141 s pd-current_composition;
#X connect 0 0 3 0;
#X connect 2 0 5 0;
#X connect 3 0 1 0;
#X connect 3 1 4 0;
#X connect 3 2 2 0;
#X connect 4 0 6 0;
#X restore 10 121 pd initCompoList;
#N canvas 459 154 294 273 getCompoList 0;
#X obj 6 3 inlet;
#X obj 7 201 outlet;
#X text 31 101 Lis le contenu du fichier de configuration, f 30;
#N canvas 121 146 419 529 getConfig 0;
#X obj 212 173 json-decode;
#X obj 63 82 list trim;
#X obj 27 32 json-encode;
#X obj 27 59 json-decode;
#X obj 27 9 inlet;
#X obj 27 483 outlet bang;
#X obj 63 105 route compositions;
#X obj 249 218 route title;
#X obj 170 419 text set composition_list;
#X obj 59 454 s compositionListSize;
#X obj 27 242 t b b;
#X obj 59 273 f;
#X text 233 390 remove json quote marks;
#X obj 86 363 symbol;
#X text 236 369 transform to symbol;
#X obj 249 195 list trim;
#X obj 280 308 f;
#X obj 249 240 t a b;
#X obj 310 310 + 1;
#X msg 155 246 0;
#X obj 64 130 t a b;
#X connect 0 1 15 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 3 0 10 0;
#X connect 3 1 1 0;
#X connect 4 0 2 0;
#X connect 6 0 20 0;
#X connect 7 0 17 0;
#X connect 10 0 5 0;
#X connect 10 1 11 0;
#X connect 11 0 9 0;
#X connect 13 0 8 0;
#X connect 15 0 7 0;
#X connect 16 0 18 0;
#X connect 16 0 8 1;
#X connect 17 0 13 0;
#X connect 17 1 16 0;
#X connect 18 0 16 1;
#X connect 18 0 11 1;
#X connect 19 0 16 1;
#X connect 20 0 0 0;
#X connect 20 1 19 0;
#X restore 7 138 pd getConfig;
#X msg 7 75 read ../config.json \, bang;
#X connect 0 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X restore 10 170 pd getCompoList;
#X obj 65 231 text define composition_list;
#X obj 524 7 r composition_num;
#N canvas 382 407 514 300 deleteCompo 0;
#X obj 41 134 del 55;
#X text 115 87 Mute la sortie audio avant de détruire le patch;
#X text 256 134 Le Mute nécessite une attente de 50ms+5ms d'incertitude liée à la taille des buffers audio pour finir son fondu, f 29;
#X obj 18 205 pipe 60;
#X obj 18 11 inlet;
#X obj 18 229 outlet;
#X msg 41 157 \; pd-current_composition clear;
#X obj 64 111 s mute;
#X obj 18 36 t f b b;
#X msg 64 88 1;
#X connect 0 0 6 0;
#X connect 3 0 5 0;
#X connect 4 0 8 0;
#X connect 8 0 3 0;
#X connect 8 1 0 0;
#X connect 8 2 9 0;
#X connect 9 0 7 0;
#X restore 524 80 pd deleteCompo;
#X obj 570 127 text get composition_list;
#X obj 570 175 t a a;
#X obj 10 333 s composition_num;
#N canvas 0 54 479 358 buildCompoPatch 0;
#X obj 36 19 inlet;
#X msg 54 252 \; pd-current_composition loadbang;
#X msg 36 306 0;
#X obj 36 330 s mute;
#X obj 110 97 makefilename %s/_load;
#X msg 91 168 \; pd-current_composition editmode 0;
#X msg 110 121 \; pd-current_composition obj 10 10 compositions/\$1;
#X obj 36 72 t b b b b a;
#X msg 73 211 \; pd-current_composition menusave;
#X text 87 13 Messages internes pour créer dans le sous-patch current_composition une abstraction du patch _load.pd qui se trouve dans le dossier du morceau à jouer, f 53;
#X connect 0 0 7 0;
#X connect 2 0 3 0;
#X connect 4 0 6 0;
#X connect 7 0 2 0;
#X connect 7 1 1 0;
#X connect 7 2 8 0;
#X connect 7 3 5 0;
#X connect 7 4 4 0;
#X restore 570 222 pd buildCompoPatch;
#X obj 524 104 t b f;
#X text 540 30 Receptionne l'index \, efface le contenu de [pd current_composition] et crée une abstraction de la composition suivante, f 41;
#X text 671 148 Le nom de la composition est utilisé pour construire le nouveau patch, f 34;
#X obj 602 198 s composition_name;
#X text 580 248 Les données relatives à la machine locale peuvent être appelées en envoyant un bang au symbole 'callbacks' et récupérées avec différents symboles \, voir dans le sous-patch pour plus de détails, f 55;
#X text 131 112 au démarrage \, la liste des compositions est effacée ainsi que le contenu du sous-patch [pd current-compsition] du patch parent, f 48;
#X text 64 196 Cet object stocke la liste des compositions \, en cliquant dessus on peut voir la liste;
#X text 8 12 La liste des compositions jouées durant la performance est indiquée dans le fichier de configuration du projet config.json. Cette liste est indexée et à chaque nouvel index (composition_num) le patch est crée dans le sous-patch [pd current-composition], f 66;
#N canvas 408 563 863 308 callbacks 0;
#X obj 174 192 r computer_number;
#X obj 68 220 symbol;
#X obj 135 216 symbol;
#X obj 296 84 r ID;
#X obj 296 109 list split 2;
#X obj 336 133 list split 2;
#X obj 311 194 list;
#X obj 476 170 r ID;
#X obj 451 195 list;
#X obj 135 238 s computer_number;
#X obj 311 220 s computer_type;
#X obj 451 223 s computer_ID;
#X obj 68 260 s composition_name;
#X obj 135 69 r callback;
#X obj 451 137 r callback;
#X obj 107 39 r composition_name;
#X connect 0 0 2 1;
#X connect 1 0 12 0;
#X connect 2 0 9 0;
#X connect 3 0 4 0;
#X connect 4 1 5 0;
#X connect 5 0 6 1;
#X connect 6 0 10 0;
#X connect 7 0 8 1;
#X connect 8 0 11 0;
#X connect 13 0 1 0;
#X connect 13 0 2 0;
#X connect 13 0 6 0;
#X connect 14 0 8 0;
#X connect 15 0 1 1;
#X restore 651 316 pd callbacks;
#X connect 0 0 5 0;
#X connect 1 0 11 0;
#X connect 3 0 12 0;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X connect 8 0 9 0;
#X connect 9 0 14 0;
#X connect 10 0 1 0;
#X connect 11 0 13 0;
#X connect 11 1 17 0;
#X connect 14 0 2 0;
#X connect 14 1 10 0;
#X restore 9 277 pd composition_manager;
#X text 332 65 bibi binaire;
#X text 339 85 adresse MAC;
#X text 367 105 Machine;
#X text 297 126 Modèle de machine;
#X text 346 146 Adresse IP;
#X text 297 166 Numéro de machine;
#X text 276 186 Composition en cours;
#X obj 459 473 declare -path abs;
#X obj 402 372 s composition_num;
#X obj 319 351 s mute;
#X obj 459 497 declare -path list-abs;
#X obj 459 521 declare -path purest_json;
#X msg 8 622 \; pd dsp 1;
#N canvas 117 594 317 158 current_composition 0;
#X obj 10 10 compositions/Elise&Sheng/_load;
#X restore 13 52 pd current_composition;
#X text 17 386 configuration MIDI;
#X obj 21 184 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X text 7 14 La composition en cours se trouve ici:, f 24;
#X text 21 439 Réceptionne les messages OpenSoundControl envoyés par un client web comme openStageControl, f 33;
#X text 19 516 Quand toutes les procédures sont terminées \, allume le DSP, f 32;
#X msg 404 346 6;
#X msg 435 346 7;
#X obj 8 558 delay 1000;
#N canvas 197 164 549 388 effet_audio 0;
#X obj 8 9 inlet;
#X obj 9 269 outlet;
#X obj 8 33 t b b;
#X obj 448 107 catch~ L_out;
#X obj 448 132 catch~ R_out;
#X obj 237 324 outlet~ L_out;
#X obj 399 326 outlet~ R_out;
#X obj 237 278 catch~ audioFX_L;
#X obj 399 280 catch~ audioFX_R;
#X obj 296 160 throw~ audioFX_L;
#X obj 420 160 throw~ audioFX_R;
#X obj 237 301 filterParamEQ Left;
#X obj 399 303 filterParamEQ Right;
#X obj 88 218 r filter;
#N canvas 107 344 450 367 routeFilter 0;
#X obj 86 18 inlet;
#X obj 188 309 s filterLeft;
#X obj 317 310 s filterRight;
#X obj 86 45 route left right link;
#X connect 0 0 3 0;
#X connect 3 0 1 0;
#X connect 3 1 2 0;
#X connect 3 2 1 0;
#X connect 3 2 2 0;
#X restore 88 244 pd routeFilter;
#N canvas 353 378 450 300 fxBuffer 0;
#X restore 294 219 pd fxBuffer;
#N canvas 353 378 450 300 fxLogic 0;
#X restore 450 219 pd fxLogic;
#X text 287 193 Les effets sont créés dynamiquement;
#N canvas 92 117 450 300 setFxLeft 0;
#X obj 76 218 outlet;
#X obj 76 57 r setFxLeft;
#X msg 80 147 set \$1;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X restore 437 57 pd setFxLeft;
#N canvas 92 117 450 300 setFxRight 0;
#X obj 76 218 outlet;
#X obj 76 57 r setFxLeft;
#X msg 80 147 set \$1;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X restore 441 83 pd setFxRight;
#X text 57 6 Le filtre droit est éteint par défaut;
#X msg 40 62 \; filterLeft onOff 1 \; filterRight onOff 0 \;;
#X text 46 137 le côté gauche et droit sont traités indépendamment dans deux filtres séparés \, et les réglages peuvent être liés, f 27;
#X obj 420 33 inlet~ noiseR;
#X obj 295 34 inlet~ noiseL;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X connect 2 1 21 0;
#X connect 3 0 9 0;
#X connect 4 0 10 0;
#X connect 7 0 11 0;
#X connect 8 0 12 0;
#X connect 11 0 5 0;
#X connect 12 0 6 0;
#X connect 13 0 14 0;
#X connect 18 0 9 0;
#X connect 19 0 10 0;
#X connect 23 0 10 0;
#X connect 24 0 9 0;
#X restore 8 333 pd effet_audio;
#N canvas 381 329 308 271 noise~ 0;
#X obj 16 11 inlet;
#X obj 16 35 t b b;
#X obj 18 233 outlet;
#N canvas 711 285 609 398 noiseLeft 0;
#X obj 241 371 outlet~;
#X obj 260 277 *~;
#X obj 190 227 line~;
#X obj 190 201 pack 0 50;
#X obj 381 114 noise~;
#X obj 437 113 iemlib/pink~;
#X obj 277 197 mux~ 0 1;
#X msg 277 113 0;
#X msg 313 113 1;
#X obj 190 39 route 0 1 2;
#X msg 190 120 0;
#X msg 225 121 1;
#X obj 190 15 r noiseLeft;
#X obj 92 113 switch~;
#X obj 19 16 r noiseLeft;
#X obj 92 66 > 0;
#X obj 19 40 route level;
#X obj 241 328 *~;
#X obj 92 90 pipe 50;
#X obj 20 233 line~;
#X obj 20 211 pack 0 50;
#X obj 20 188 dbtorms;
#X obj 342 272 env~;
#X floatatom 342 296 5 0 0 0 - - - 0;
#X connect 1 0 17 1;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 6 1;
#X connect 6 0 1 1;
#X connect 7 0 6 0;
#X connect 8 0 6 0;
#X connect 9 0 10 0;
#X connect 9 1 11 0;
#X connect 9 1 7 0;
#X connect 9 2 11 0;
#X connect 9 2 8 0;
#X connect 10 0 3 0;
#X connect 11 0 3 0;
#X connect 12 0 9 0;
#X connect 14 0 16 0;
#X connect 15 0 18 0;
#X connect 16 0 21 0;
#X connect 16 1 15 0;
#X connect 17 0 0 0;
#X connect 17 0 22 0;
#X connect 18 0 13 0;
#X connect 19 0 17 0;
#X connect 20 0 19 0;
#X connect 21 0 20 0;
#X connect 22 0 23 0;
#X restore 53 162 pd noiseLeft;
#X obj 53 204 outlet~ left;
#X obj 176 204 outlet~ right;
#N canvas 97 347 609 398 noiseRight 0;
#X obj 241 371 outlet~;
#X obj 260 307 *~;
#X obj 190 227 line~;
#X obj 190 201 pack 0 50;
#X obj 451 71 noise~;
#X obj 507 70 iemlib/pink~;
#X obj 277 157 mux~ 0 1;
#X msg 277 113 0;
#X msg 313 113 1;
#X obj 190 39 route 0 1 2;
#X msg 190 120 0;
#X msg 225 121 1;
#X obj 190 15 r noiseRight;
#X obj 241 338 *~;
#X obj 92 113 switch~;
#X obj 92 66 > 0;
#X obj 19 40 route level;
#X obj 92 90 pipe 50;
#X obj 20 223 line~;
#X obj 20 201 pack 0 50;
#X obj 20 178 dbtorms;
#X obj 19 16 r noiseRight;
#X connect 1 0 13 1;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 6 0;
#X connect 5 0 6 1;
#X connect 6 0 1 1;
#X connect 7 0 6 0;
#X connect 8 0 6 0;
#X connect 9 0 10 0;
#X connect 9 1 11 0;
#X connect 9 1 7 0;
#X connect 9 2 11 0;
#X connect 9 2 8 0;
#X connect 10 0 3 0;
#X connect 11 0 3 0;
#X connect 12 0 9 0;
#X connect 13 0 0 0;
#X connect 15 0 17 0;
#X connect 16 0 20 0;
#X connect 16 1 15 0;
#X connect 17 0 14 0;
#X connect 18 0 13 0;
#X connect 19 0 18 0;
#X connect 20 0 19 0;
#X connect 21 0 16 0;
#X restore 176 162 pd noiseRight;
#N canvas 107 344 281 332 routeNoise 0;
#X obj 35 20 r noise;
#X obj 35 246 s noiseLeft;
#X obj 131 247 s noiseRight;
#X obj 35 87 route left right link;
#X connect 0 0 3 0;
#X connect 3 0 1 0;
#X connect 3 1 2 0;
#X connect 3 2 1 0;
#X connect 3 2 2 0;
#X restore 127 54 pd routeNoise;
#X msg 49 94 \; noise link 0 \; noise link level 70 \;;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 8 0;
#X connect 3 0 4 0;
#X connect 6 0 5 0;
#X restore 8 303 pd noise~;
#X obj 459 544 declare -path else;
#X text 304 571 list to symbol \, demux;
#X text 372 522 config.json;
#X text 367 473 abstractions;
#X text 380 497 list tools;
#X text 331 545 parametric filter;
#X floatatom 90 646 5 0 0 0 - - - 0;
#X text 128 647 % cpu;
#N canvas 63 88 450 492 dsp 0;
#X obj 64 18 inlet;
#X obj 67 463 outlet;
#X obj 64 117 cputime;
#X obj 64 89 t b b;
#X obj 64 177 * 0.1;
#X obj 64 146 int;
#X obj 146 332 s cputime;
#N canvas 92 117 450 300 average-10seconds 0;
#X obj 57 88 f;
#X obj 111 127 + 1;
#X obj 111 151 mod 10;
#X obj 111 176 sel 9;
#X obj 106 82 +;
#X msg 261 137 0;
#X obj 58 208 f;
#X obj 58 233 / 10;
#X obj 57 32 t b a;
#X obj 194 84 t a;
#X obj 57 6 inlet;
#X obj 58 257 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 0 1;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 3 0 6 0;
#X connect 4 0 9 0;
#X connect 4 0 6 1;
#X connect 5 0 4 1;
#X connect 6 0 7 0;
#X connect 7 0 11 0;
#X connect 8 0 0 0;
#X connect 8 1 4 0;
#X connect 9 0 4 1;
#X connect 10 0 8 0;
#X restore 263 131 pd average-10seconds;
#X obj 64 61 metro 1000;
#X obj 274 325 s sendOSC;
#X obj 236 256 list prepend;
#X obj 305 212 r machineId;
#X msg 236 280 /cpu_\$1 \$2%;
#X connect 0 0 8 0;
#X connect 2 0 5 0;
#X connect 3 0 2 0;
#X connect 3 1 2 1;
#X connect 4 0 1 0;
#X connect 4 0 6 0;
#X connect 4 0 10 0;
#X connect 5 0 4 0;
#X connect 8 0 3 0;
#X connect 10 0 12 0;
#X connect 11 0 10 1;
#X restore 90 621 pd dsp;
#X obj 8 582 t b b;
#X msg 572 280 1;
#X msg 541 302 2;
#X msg 572 302 3;
#X msg 541 325 4;
#X msg 541 280 0;
#X msg 572 325 5;
#X msg 543 346 6;
#X msg 574 346 7;
#X obj 541 372 s cue;
#X floatatom 432 208 5 0 0 0 - cue - 0;
#X text 395 207 cue;
#X floatatom 432 228 5 0 0 0 - composition_num - 0;
#X text 339 228 composition;
#X obj 21 153 r reload;
#X text 407 595 shell;
#X text 455 645 patko2024;
#X text 20 240 Récupère la liste des compositions déclarées dans config.json, f 34;
#X text 443 424 externals utilisés pour faciliter la tache, f 27;
#X connect 0 0 1 0;
#X connect 1 0 21 0;
#X connect 2 0 13 0;
#X connect 4 0 3 0;
#X connect 5 0 31 0;
#X connect 6 0 30 0;
#X connect 7 0 30 0;
#X connect 8 0 30 0;
#X connect 9 0 30 0;
#X connect 10 0 30 0;
#X connect 12 0 30 0;
#X connect 13 0 15 0;
#X connect 15 0 43 0;
#X connect 21 0 45 0;
#X connect 37 0 1 0;
#X connect 41 0 30 0;
#X connect 42 0 30 0;
#X connect 43 0 55 0;
#X connect 44 0 2 0;
#X connect 44 1 2 1;
#X connect 44 2 2 2;
#X connect 45 0 44 0;
#X connect 45 1 44 1;
#X connect 45 2 44 2;
#X connect 54 0 52 0;
#X connect 55 0 34 0;
#X connect 55 1 54 0;
#X connect 56 0 64 0;
#X connect 57 0 64 0;
#X connect 58 0 64 0;
#X connect 59 0 64 0;
#X connect 60 0 64 0;
#X connect 61 0 64 0;
#X connect 62 0 64 0;
#X connect 63 0 64 0;
#X connect 69 0 37 0;
